import SEO from '../../components/SEO';

<SEO
  title="Combobox"
  description="Combobox component is a component that is used to get user input in a text field. It is usually used together with a FormControl to provide an accessible label, validation messages, etc."
/>

# Combobox

Combobox component is a component that is used to get user input in a text field. It is usually used together with a FormControl to provide an accessible label, validation messages, etc.

## Import

```js
import { Combobox } from 'sajari/react-components';
```

## Usage

```jsx
<Combobox />
```

### Suggestions mode

You can set `mode` to `suggestions` to render autocomplete suggstions.

```jsx
function Example() {
  const [query, setQuery] = React.useState('');
  const [value, setValue] = React.useState('');
  const suggestions = ['apple iphone', 'apple imac', 'apple watch', 'apple mac pro', 'apple macbook pro'];

  const handleSubmit = (event) => {
    event.preventDefault();
    const formData = new FormData(event.target);
    setQuery(formData.get('query'));
  };

  return (
    <>
      <Text>Current query: {query}</Text>
      <Text>Current value: {value}</Text>

      <form onSubmit={handleSubmit}>
        <Combobox
          mode="suggestions"
          label="Query"
          name="query"
          value={query}
          placeholder="Search"
          items={suggestions}
          onChange={setValue}
        />
      </form>
    </>
  );
}
```

### Typeahead mode

You can set `mode` to `typeahead` to render a typeahead suggestion.

```jsx
<Combobox mode="typeahead" label="Query" name="query" placeholder="Search" completion="apple iphone" />
```

### Loading

```jsx
<Combobox loading />
```

## Speech recognition

```jsx
<Combobox enableVoice />
```

## Props

`Combobox` component props inherits the `input` element props with some additional for speech recognition and loading state

| Name                | Type                      | Default | Description                                                                                                                      |
| ------------------- | ------------------------- | ------- | -------------------------------------------------------------------------------------------------------------------------------- |
| `loading`           | `boolean`                 | `false` | Show the spinner icon                                                                                                            |
| `enableVoice`       | `boolean`                 | `false` | Whether to enable speech recognition ([Compatibility table](https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition)) |
| `captureVoiceInput` | `boolean`                 | `true`  | Whether to set the combobox value to the voice input, if enabled.                                                                |
| `onChange`          | `(value: string) => void` |         | The callback when the input value changes. Note: The `event` is not passed as the argument.                                      |
| `onVoiceInput`      | `(value: string) => void` |         | The callback when a voice transcript is output                                                                                   |
| `items`             | `string[]`                |         | An array of strings to use for autocomplete suggestions.                                                                         |
| `completion`        | `string`                  |         | A string to use for a typeahead value.                                                                                           |
